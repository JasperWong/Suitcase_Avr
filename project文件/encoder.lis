                        .module encoder.c
                        .area text(rom, con, rel)
 0000                   .dbfile ..\encoder_uart_v4\encoder.c
 0000                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
 0000                   .dbfunc e PIDInit_1 _PIDInit_1 fV
                        .even
 0000           _PIDInit_1::
 0000                   .dbline -1
 0000                   .dbline 30
 0000           ; #include"iom128v.h"
 0000           ; 
 0000           ; #define uchar unsigned char
 0000           ; #define uint unsigned int
 0000           ; 
 0000           ; //==========¶¨ÒåPID½á¹¹Ìå===============
 0000           ; typedef struct PID
 0000           ; {
 0000           ;       double Kp;              //±ÈÀý»ý·Ö
 0000           ;       double Ki;              //»ý·Ö³£Êý
 0000           ;       double Kd;              //Î¢·Ö³£Êý
 0000           ;       double Vsp;             //ÆÚÍûÖµ
 0000           ;       double Vpv;             //Êµ¼ÊÖµ
 0000           ;       double Vle;             //ÉÏ´ÎÎó²î
 0000           ;       double Vpe;             //µ±Ç°Îó²î
 0000           ;       double Vse;             //×ÜÎó²î
 0000           ;       double dError;  //Æ«²î
 0000           ;       double Error;   //Î¢·Ö
 0000           ;       double Pwm;             //´ïµ½Ô¤ÆÚËÙ¶ÈÊ±PwmµÄÖµ
 0000           ; }PID;
 0000           ; 
 0000           ; struct PID sPID;
 0000           ; struct PID *p;
 0000           ; 
 0000           ; struct PID vPID;
 0000           ; struct PID *v;
 0000           ; 
 0000           ; //===========PID³õÊ¼»¯×Ó³ÌÐò=============
 0000           ; void PIDInit_1(void)
 0000           ; {
 0000                   .dbline 31
 0000           ;   p = &sPID;
 0000 80E0              ldi R24,<_sPID
 0002 90E0              ldi R25,>_sPID
 0004 9093B20C          sts _p+1,R25
 0008 8093B10C          sts _p,R24
 000C                   .dbline 32
 000C           ;   p->Kp = /*0.394*/0.4;
 000C 00E0              ldi R16,<L2
 000E 10E0              ldi R17,>L2
 0010 0E940000          xcall elpm32
 0014 E091B10C          lds R30,_p
 0018 F091B20C          lds R31,_p+1
 001C 0083              std z+0,R16
 001E 1183              std z+1,R17
 0020 2283              std z+2,R18
 0022 3383              std z+3,R19
 0024                   .dbline 33
 0024           ;   p->Ki = /*0.085*/0.1;
 0024 00E0              ldi R16,<L3
 0026 10E0              ldi R17,>L3
 0028 0E940000          xcall elpm32
 002C E091B10C          lds R30,_p
 0030 F091B20C          lds R31,_p+1
 0034 0483              std z+4,R16
 0036 1583              std z+5,R17
 0038 2683              std z+6,R18
 003A 3783              std z+7,R19
 003C                   .dbline 34
 003C           ;   p->Kd = 0.0085;
 003C 00E0              ldi R16,<L4
 003E 10E0              ldi R17,>L4
 0040 0E940000          xcall elpm32
 0044 E091B10C          lds R30,_p
 0048 F091B20C          lds R31,_p+1
 004C 0087              std z+8,R16
 004E 1187              std z+9,R17
 0050 2287              std z+10,R18
 0052 3387              std z+11,R19
 0054                   .dbline 35
 0054           ;   p->Vsp = 0;
 0054 00E0              ldi R16,<L5
 0056 10E0              ldi R17,>L5
 0058 0E940000          xcall elpm32
 005C E091B10C          lds R30,_p
 0060 F091B20C          lds R31,_p+1
 0064 0487              std z+12,R16
 0066 1587              std z+13,R17
 0068 2687              std z+14,R18
 006A 3787              std z+15,R19
 006C                   .dbline 36
 006C           ;   p->Vpv = 0;
 006C 00E0              ldi R16,<L5
 006E 10E0              ldi R17,>L5
 0070 0E940000          xcall elpm32
 0074 E091B10C          lds R30,_p
 0078 F091B20C          lds R31,_p+1
 007C 008B              std z+16,R16
 007E 118B              std z+17,R17
 0080 228B              std z+18,R18
 0082 338B              std z+19,R19
 0084                   .dbline 37
 0084           ;   p->Vle = 0;
 0084 00E0              ldi R16,<L5
 0086 10E0              ldi R17,>L5
 0088 0E940000          xcall elpm32
 008C E091B10C          lds R30,_p
 0090 F091B20C          lds R31,_p+1
 0094 048B              std z+20,R16
 0096 158B              std z+21,R17
 0098 268B              std z+22,R18
 009A 378B              std z+23,R19
 009C                   .dbline 38
 009C           ;   p->Vpe = 0; 
 009C 00E0              ldi R16,<L5
 009E 10E0              ldi R17,>L5
 00A0 0E940000          xcall elpm32
 00A4 E091B10C          lds R30,_p
 00A8 F091B20C          lds R31,_p+1
 00AC 008F              std z+24,R16
 00AE 118F              std z+25,R17
 00B0 228F              std z+26,R18
 00B2 338F              std z+27,R19
 00B4                   .dbline 39
 00B4           ;   p->Vse = 0; 
 00B4 00E0              ldi R16,<L5
 00B6 10E0              ldi R17,>L5
 00B8 0E940000          xcall elpm32
 00BC E091B10C          lds R30,_p
 00C0 F091B20C          lds R31,_p+1
 00C4 048F              std z+28,R16
 00C6 158F              std z+29,R17
 00C8 268F              std z+30,R18
 00CA 378F              std z+31,R19
 00CC                   .dbline 40
 00CC           ;   p->dError = 0;
 00CC 00E0              ldi R16,<L5
 00CE 10E0              ldi R17,>L5
 00D0 0E940000          xcall elpm32
 00D4 E091B10C          lds R30,_p
 00D8 F091B20C          lds R31,_p+1
 00DC 00A3              std z+32,R16
 00DE 11A3              std z+33,R17
 00E0 22A3              std z+34,R18
 00E2 33A3              std z+35,R19
 00E4                   .dbline 41
 00E4           ;   p->Error = 0;
 00E4 00E0              ldi R16,<L5
 00E6 10E0              ldi R17,>L5
 00E8 0E940000          xcall elpm32
 00EC E091B10C          lds R30,_p
 00F0 F091B20C          lds R31,_p+1
 00F4 04A3              std z+36,R16
 00F6 15A3              std z+37,R17
 00F8 26A3              std z+38,R18
 00FA 37A3              std z+39,R19
 00FC                   .dbline 42
 00FC           ;   p->Pwm = 0;
 00FC 00E0              ldi R16,<L5
 00FE 10E0              ldi R17,>L5
 0100 0E940000          xcall elpm32
 0104 E091B10C          lds R30,_p
 0108 F091B20C          lds R31,_p+1
 010C 00A7              std z+40,R16
 010E 11A7              std z+41,R17
 0110 22A7              std z+42,R18
 0112 33A7              std z+43,R19
 0114                   .dbline -2
 0114           L1:
 0114                   .dbline 0 ; func end
 0114 0895              ret
 0116                   .dbend
 0116                   .dbfunc e PIDInit_3 _PIDInit_3 fV
                        .even
 0116           _PIDInit_3::
 0116                   .dbline -1
 0116                   .dbline 47
 0116           ; }
 0116           ; 
 0116           ; //===========PID³õÊ¼»¯×Ó³ÌÐò=============
 0116           ; void PIDInit_3(void)
 0116           ; {
 0116                   .dbline 48
 0116           ;   v = &vPID;
 0116 80E0              ldi R24,<_vPID
 0118 90E0              ldi R25,>_vPID
 011A 9093840C          sts _v+1,R25
 011E 8093830C          sts _v,R24
 0122                   .dbline 49
 0122           ;   v->Kp = /*0.394*/0.4;
 0122 00E0              ldi R16,<L2
 0124 10E0              ldi R17,>L2
 0126 0E940000          xcall elpm32
 012A E091830C          lds R30,_v
 012E F091840C          lds R31,_v+1
 0132 0083              std z+0,R16
 0134 1183              std z+1,R17
 0136 2283              std z+2,R18
 0138 3383              std z+3,R19
 013A                   .dbline 50
 013A           ;   v->Ki = /*0.085*/0.1;
 013A 00E0              ldi R16,<L3
 013C 10E0              ldi R17,>L3
 013E 0E940000          xcall elpm32
 0142 E091830C          lds R30,_v
 0146 F091840C          lds R31,_v+1
 014A 0483              std z+4,R16
 014C 1583              std z+5,R17
 014E 2683              std z+6,R18
 0150 3783              std z+7,R19
 0152                   .dbline 51
 0152           ;   v->Kd = 0.0085;
 0152 00E0              ldi R16,<L4
 0154 10E0              ldi R17,>L4
 0156 0E940000          xcall elpm32
 015A E091830C          lds R30,_v
 015E F091840C          lds R31,_v+1
 0162 0087              std z+8,R16
 0164 1187              std z+9,R17
 0166 2287              std z+10,R18
 0168 3387              std z+11,R19
 016A                   .dbline 52
 016A           ;   v->Vsp = 0;
 016A 00E0              ldi R16,<L5
 016C 10E0              ldi R17,>L5
 016E 0E940000          xcall elpm32
 0172 E091830C          lds R30,_v
 0176 F091840C          lds R31,_v+1
 017A 0487              std z+12,R16
 017C 1587              std z+13,R17
 017E 2687              std z+14,R18
 0180 3787              std z+15,R19
 0182                   .dbline 53
 0182           ;   v->Vpv = 0;
 0182 00E0              ldi R16,<L5
 0184 10E0              ldi R17,>L5
 0186 0E940000          xcall elpm32
 018A E091830C          lds R30,_v
 018E F091840C          lds R31,_v+1
 0192 008B              std z+16,R16
 0194 118B              std z+17,R17
 0196 228B              std z+18,R18
 0198 338B              std z+19,R19
 019A                   .dbline 54
 019A           ;   v->Vle = 0;
 019A 00E0              ldi R16,<L5
 019C 10E0              ldi R17,>L5
 019E 0E940000          xcall elpm32
 01A2 E091830C          lds R30,_v
 01A6 F091840C          lds R31,_v+1
 01AA 048B              std z+20,R16
 01AC 158B              std z+21,R17
 01AE 268B              std z+22,R18
 01B0 378B              std z+23,R19
 01B2                   .dbline 55
 01B2           ;   v->Vpe = 0; 
 01B2 00E0              ldi R16,<L5
 01B4 10E0              ldi R17,>L5
 01B6 0E940000          xcall elpm32
 01BA E091830C          lds R30,_v
 01BE F091840C          lds R31,_v+1
 01C2 008F              std z+24,R16
 01C4 118F              std z+25,R17
 01C6 228F              std z+26,R18
 01C8 338F              std z+27,R19
 01CA                   .dbline 56
 01CA           ;   v->Vse = 0; 
 01CA 00E0              ldi R16,<L5
 01CC 10E0              ldi R17,>L5
 01CE 0E940000          xcall elpm32
 01D2 E091830C          lds R30,_v
 01D6 F091840C          lds R31,_v+1
 01DA 048F              std z+28,R16
 01DC 158F              std z+29,R17
 01DE 268F              std z+30,R18
 01E0 378F              std z+31,R19
 01E2                   .dbline 57
 01E2           ;   v->dError = 0;
 01E2 00E0              ldi R16,<L5
 01E4 10E0              ldi R17,>L5
 01E6 0E940000          xcall elpm32
 01EA E091830C          lds R30,_v
 01EE F091840C          lds R31,_v+1
 01F2 00A3              std z+32,R16
 01F4 11A3              std z+33,R17
 01F6 22A3              std z+34,R18
 01F8 33A3              std z+35,R19
 01FA                   .dbline 58
 01FA           ;   v->Error = 0;
 01FA 00E0              ldi R16,<L5
 01FC 10E0              ldi R17,>L5
 01FE 0E940000          xcall elpm32
 0202 E091830C          lds R30,_v
 0206 F091840C          lds R31,_v+1
 020A 04A3              std z+36,R16
 020C 15A3              std z+37,R17
 020E 26A3              std z+38,R18
 0210 37A3              std z+39,R19
 0212                   .dbline 59
 0212           ;   v->Pwm = 0;
 0212 00E0              ldi R16,<L5
 0214 10E0              ldi R17,>L5
 0216 0E940000          xcall elpm32
 021A E091830C          lds R30,_v
 021E F091840C          lds R31,_v+1
 0222 00A7              std z+40,R16
 0224 11A7              std z+41,R17
 0226 22A7              std z+42,R18
 0228 33A7              std z+43,R19
 022A                   .dbline -2
 022A           L6:
 022A                   .dbline 0 ; func end
 022A 0895              ret
 022C                   .dbend
                        .area data(ram, con, rel)
 0000                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
 0000           _data_rec_done_flag::
 0000                   .blkb 1
                        .area idata
 0000 00                .byte 0
                        .area data(ram, con, rel)
 0001                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
 0001                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0001                   .dbsym e data_rec_done_flag _data_rec_done_flag c
 0001           _app_data::
 0001                   .blkb 2
                        .area idata
 0001 0001              .byte 0,1
                        .area data(ram, con, rel)
 0003                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0003                   .blkb 2
                        .area idata
 0003 0000              .byte 0,0
                        .area data(ram, con, rel)
 0005                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0005                   .blkb 1
                        .area idata
 0005 00                .byte 0
                        .area data(ram, con, rel)
 0006                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0006                   .dbsym e app_data _app_data A[5:5]c
 0006           _gps_data::
 0006                   .blkb 1
                        .area idata
 0006 01                .byte 1
                        .area data(ram, con, rel)
 0007                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0007                   .blkb 199
                        .area idata
 0007 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0043 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 007F 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 00BB 00000000000000000000      .word 0,0,0,0,0
 00C5 000000000000000000        .byte 0,0,0,0,0,0,0,0,0
                        .area data(ram, con, rel)
 00CE                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00CE                   .dbsym e gps_data _gps_data A[200:200]c
 00CE           _uart1_receive_flag::
 00CE                   .blkb 1
                        .area idata
 00CE 00                .byte 0
                        .area data(ram, con, rel)
 00CF                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00CF                   .dbsym e uart1_receive_flag _uart1_receive_flag c
 00CF           _lock_flag::
 00CF                   .blkb 1
                        .area idata
 00CF 00                .byte 0
                        .area data(ram, con, rel)
 00D0                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D0                   .dbsym e lock_flag _lock_flag c
 00D0           _sec_time::
 00D0                   .blkb 1
                        .area idata
 00D0 00                .byte 0
                        .area data(ram, con, rel)
 00D1                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D1                   .dbsym e sec_time _sec_time c
 00D1           _now_time::
 00D1                   .blkb 2
                        .area idata
 00D1 0000              .word 0
                        .area data(ram, con, rel)
 00D3                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D3                   .dbsym e now_time _now_time i
 00D3           _num_pulse_1::
 00D3                   .blkb 2
                        .area idata
 00D3 0000              .word 0
                        .area data(ram, con, rel)
 00D5                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D5                   .dbsym e num_pulse_1 _num_pulse_1 I
 00D5           _get_num_pulse_1::
 00D5                   .blkb 2
                        .area idata
 00D5 0000              .word 0
                        .area data(ram, con, rel)
 00D7                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D7                   .dbsym e get_num_pulse_1 _get_num_pulse_1 I
 00D7           _num_pulse_3::
 00D7                   .blkb 2
                        .area idata
 00D7 0000              .word 0
                        .area data(ram, con, rel)
 00D9                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00D9                   .dbsym e num_pulse_3 _num_pulse_3 I
 00D9           _get_num_pulse_3::
 00D9                   .blkb 2
                        .area idata
 00D9 0000              .word 0
                        .area data(ram, con, rel)
 00DB                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00DB                   .dbsym e get_num_pulse_3 _get_num_pulse_3 I
 00DB           _vino::
 00DB                   .blkb 2
                        .area idata
 00DB 0000              .word 0
                        .area data(ram, con, rel)
 00DD                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00DD                   .dbsym e vino _vino I
                        .area text(rom, con, rel)
 022C                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 022C                   .dbfunc e Gps_Msg_Show _Gps_Msg_Show fV
 022C           ;             tp -> y+6
                        .even
 022C           _Gps_Msg_Show::
 022C AA92              st -y,R10
 022E BA92              st -y,R11
 0230 2A97              sbiw R28,10
 0232                   .dbline -1
 0232                   .dbline 57
 0232           ; /*********
 0232           ; verson3
 0232           ; pidÖ±Ïß
 0232           ; *******/
 0232           ; #include"encoder.h"
 0232           ; #include"uart.h"
 0232           ; #include"pwm.h"
 0232           ; #include"pid.h"
 0232           ; #include<iom128v.h>
 0232           ; 
 0232           ; #include "usart0.h"  
 0232           ; #include "gps.h"
 0232           ; #include <string.h>
 0232           ; #include "sim900a.h"
 0232           ; 
 0232           ; #include "lock.h"
 0232           ; #include "data_get.h"
 0232           ; #include "alarm_message.h"
 0232           ; #include "init.h"
 0232           ; /*
 0232           ; *ICP_init
 0232           ; *²¶×½ÊäÈëº¯Êý³õÊ¼»¯
 0232           ; *´øÈë²ÎÊý:ÎÞ
 0232           ; *·µ»Ø²ÎÊý:ÎÞ
 0232           ; */
 0232           ; #define bell_open() PORTA|=(1<<1)
 0232           ; #define bell_close() PORTA&=~(1<<1)
 0232           ; #define move() p->Vsp = 90
 0232           ; #define stop() {p->Vsp = 0;}
 0232           ; 
 0232           ; 
 0232           ; unsigned char data_rec_done_flag=0;
 0232           ; unsigned char data[3000];
 0232           ; unsigned char app_data[5]={0,1,0,0,0};
 0232           ; unsigned char gps_data[200]={1};
 0232           ; unsigned char uart1_receive_flag=0;
 0232           ; unsigned char lock_flag=0;
 0232           ; unsigned char sec_time=0;
 0232           ; unsigned int  now_time=0;
 0232           ; int num_pulse_1 = 0;
 0232           ; int get_num_pulse_1 = 0;
 0232           ; 
 0232           ; int num_pulse_3 = 0;
 0232           ; int get_num_pulse_3 = 0;
 0232           ; //int flag;
 0232           ; int vino = 0;
 0232           ; 
 0232           ; //double dError;
 0232           ; //double Error;
 0232           ; //double Pwm;
 0232           ; 
 0232           ; nmea_msg gpsx;                                                                                        //GPSÐÅÏ¢
 0232           ; unsigned char longitude[50];                                                                  //´òÓ¡»º´æÆ÷
 0232           ; unsigned char latitude[50]; 
 0232           ; 
 0232           ; void Gps_Msg_Show(void)
 0232           ; {
 0232                   .dbline 59
 0232           ;       float tp;                        
 0232           ;       tp=gpsx.longitude;         
 0232 2091AF00          lds R18,_gpsx+73+2
 0236 3091B000          lds R19,_gpsx+73+2+1
 023A 0091AD00          lds R16,_gpsx+73
 023E 1091AE00          lds R17,_gpsx+73+1
 0242 0E940000          xcall ulong2fp
 0246 0E83              std y+6,R16
 0248 1F83              std y+7,R17
 024A 2887              std y+8,R18
 024C 3987              std y+9,R19
 024E                   .dbline 60
 024E           ;       sprintf((char *)longitude,"%.3f %1c-",tp/10000,gpsx.ewhemi);    //µÃµ½¾­¶È×Ö·û´®        
 024E 2090B100          lds R2,_gpsx+77
 0252 3324              clr R3
 0254 3D82              std y+5,R3
 0256 2C82              std y+4,R2
 0258 2E80              ldd R2,y+6
 025A 3F80              ldd R3,y+7
 025C 4884              ldd R4,y+8
 025E 5984              ldd R5,y+9
 0260 00E0              ldi R16,<L19
 0262 10E0              ldi R17,>L19
 0264 0E940000          xcall elpm32
 0268 3A93              st -y,R19
 026A 2A93              st -y,R18
 026C 1A93              st -y,R17
 026E 0A93              st -y,R16
 0270 8101              movw R16,R2
 0272 9201              movw R18,R4
 0274 0E940000          xcall fpdiv2
 0278 0883              std y+0,R16
 027A 1983              std y+1,R17
 027C 2A83              std y+2,R18
 027E 3B83              std y+3,R19
 0280 20E0              ldi R18,<L17
 0282 30E0              ldi R19,>L17
 0284 00E0              ldi R16,<_longitude
 0286 10E0              ldi R17,>_longitude
 0288 0E940000          xcall _sprintf
 028C                   .dbline 61
 028C           ;       tp=gpsx.latitude;
 028C 2091AA00          lds R18,_gpsx+68+2
 0290 3091AB00          lds R19,_gpsx+68+2+1
 0294 0091A800          lds R16,_gpsx+68
 0298 1091A900          lds R17,_gpsx+68+1
 029C 0E940000          xcall ulong2fp
 02A0 0E83              std y+6,R16
 02A2 1F83              std y+7,R17
 02A4 2887              std y+8,R18
 02A6 3987              std y+9,R19
 02A8                   .dbline 62
 02A8           ;       sprintf((char *)latitude,"%.3f %1c-",tp/10000,gpsx.nshemi);     //µÃµ½Î³¶È×Ö·û´®         
 02A8 2090AC00          lds R2,_gpsx+72
 02AC 3324              clr R3
 02AE 3D82              std y+5,R3
 02B0 2C82              std y+4,R2
 02B2 2E80              ldd R2,y+6
 02B4 3F80              ldd R3,y+7
 02B6 4884              ldd R4,y+8
 02B8 5984              ldd R5,y+9
 02BA 00E0              ldi R16,<L19
 02BC 10E0              ldi R17,>L19
 02BE 0E940000          xcall elpm32
 02C2 3A93              st -y,R19
 02C4 2A93              st -y,R18
 02C6 1A93              st -y,R17
 02C8 0A93              st -y,R16
 02CA 8101              movw R16,R2
 02CC 9201              movw R18,R4
 02CE 0E940000          xcall fpdiv2
 02D2 0883              std y+0,R16
 02D4 1983              std y+1,R17
 02D6 2A83              std y+2,R18
 02D8 3B83              std y+3,R19
 02DA 20E0              ldi R18,<L17
 02DC 30E0              ldi R19,>L17
 02DE 00E0              ldi R16,<_latitude
 02E0 10E0              ldi R17,>_latitude
 02E2 0E940000          xcall _sprintf
 02E6                   .dbline -2
 02E6           L15:
 02E6                   .dbline 0 ; func end
 02E6 2A96              adiw R28,10
 02E8 B990              ld R11,y+
 02EA A990              ld R10,y+
 02EC 0895              ret
 02EE                   .dbsym l tp 6 D
 02EE                   .dbend
 02EE                   .dbfunc e delay_ms _delay_ms fV
 02EE           ;              a -> R20,R21
 02EE           ;              b -> R22
 02EE           ;              i -> R16,R17
                        .even
 02EE           _delay_ms::
 02EE 0E940000          xcall push_xgsetF000
 02F2                   .dbline -1
 02F2                   .dbline 72
 02F2           ; }
 02F2           ; 
 02F2           ; /*void Gps_Msg_Show(void)
 02F2           ; {
 02F2           ;       float tp;                           
 02F2           ;       sprintf((char *)longitude,"%.5f %1c-",gpsx.longitude/100000,gpsx.ewhemi);       //µÃµ½¾­¶È×Ö·û´®        
 02F2           ;       sprintf((char *)latitude,"%.5f %1c-",gpsx.latitude/100000,gpsx.nshemi); //µÃµ½Î³¶È×Ö·û´®         
 02F2           ; }*/
 02F2           ; 
 02F2           ; void delay_ms(unsigned int i) {
 02F2                   .dbline 76
 02F2           ; 
 02F2           ;       unsigned int a;
 02F2           ;       unsigned char b;
 02F2           ;       for (a = 0; a < i; a++) {
 02F2 4427              clr R20
 02F4 5527              clr R21
 02F6 07C0              xjmp L26
 02F8           L23:
 02F8                   .dbline 76
 02F8                   .dbline 77
 02F8           ;               for (b = 1; b; b++) {
 02F8 61E0              ldi R22,1
 02FA 01C0              xjmp L30
 02FC           L27:
 02FC                   .dbline 77
 02FC                   .dbline 78
 02FC           ;                       ;
 02FC                   .dbline 79
 02FC           ;                       }
 02FC           L28:
 02FC                   .dbline 77
 02FC 6395              inc R22
 02FE           L30:
 02FE                   .dbline 77
 02FE 6623              tst R22
 0300 E9F7              brne L27
 0302           X0:
 0302                   .dbline 80
 0302           ;               }
 0302           L24:
 0302                   .dbline 76
 0302 4F5F              subi R20,255  ; offset = 1
 0304 5F4F              sbci R21,255
 0306           L26:
 0306                   .dbline 76
 0306 4017              cp R20,R16
 0308 5107              cpc R21,R17
 030A B0F3              brlo L23
 030C           X1:
 030C                   .dbline -2
 030C           L22:
 030C                   .dbline 0 ; func end
 030C 0C940000          xjmp pop_xgsetF000
 0310                   .dbsym r a 20 i
 0310                   .dbsym r b 22 c
 0310                   .dbsym r i 16 i
 0310                   .dbend
                        .area vector(rom, abs)
                        .org 44
 002C 0C948801          jmp _INT_T1_ICP
                        .area text(rom, con, rel)
 0310                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0310                   .dbfunc e INT_T1_ICP _INT_T1_ICP fV
                        .even
 0310           _INT_T1_ICP::
 0310 8A93              st -y,R24
 0312 9A93              st -y,R25
 0314 8FB7              IN R24,63
 0316 8A93              st -y,R24
 0318                   .dbline -1
 0318                   .dbline 96
 0318           ; }
 0318           ; 
 0318           ; 
 0318           ;               
 0318           ; /*
 0318           ; *ICP_1ÖÐ¶Ïº¯Êý
 0318           ; *¸´Î»¶¨Ê±Æ÷¼ÆÊýÖµ
 0318           ; *Èç¹ûÊÇÐÂÐÅºÅ,Ôò´ò¿ªÒç³öÖÐ¶Ï£¬ÒÔÀ¹½ØÖ¡½áÊø¡£
 0318           ; *Õý³£ÐÅºÅ£¬¼ì²â·ÀÖ¹Òç³ö£¬±£´æÊÕµ½Êý¾ÝÖµ¡
 0318           ; */
 0318           ; 
 0318           ; //ÖÐ¶ÏÏòÁ¿ºÅ 12    T1ÊäÈë²¶×½ÊÂ¼þÖÐ¶Ï
 0318           ; 
 0318           ; #pragma interrupt_handler INT_T1_ICP: 12
 0318           ; void INT_T1_ICP(void)
 0318           ; {
 0318                   .dbline 97
 0318           ;       TIMSK &= ~(1 << TOIE1);                                         //¹Ø±ÕÒç³öÖÐ¶Ï  
 0318 87B7              in R24,0x37
 031A 8B7F              andi R24,251
 031C 87BF              out 0x37,R24
 031E                   .dbline 98
 031E           ;       num_pulse_1++;
 031E 8091D300          lds R24,_num_pulse_1
 0322 9091D400          lds R25,_num_pulse_1+1
 0326 0196              adiw R24,1
 0328 9093D400          sts _num_pulse_1+1,R25
 032C 8093D300          sts _num_pulse_1,R24
 0330                   .dbline 103
 0330           ;       
 0330           ;       //TIMSK |= (1 << TOIE1);                                                //Òç³öÖÐ¶ÏÓÐÐ§                                  
 0330           ;       //TIFR |= (1 << TOV1);                                          //Òç³öÖÐ¶Ï±êÖ¾Çå³ý              
 0330           ;       //flag = TCNT1;
 0330           ;       TIMSK |= (1 << TOIE1);                                          //´ò¿ªÒç³öÖÐ¶Ï          
 0330 87B7              in R24,0x37
 0332 8460              ori R24,4
 0334 87BF              out 0x37,R24
 0336                   .dbline -2
 0336           L31:
 0336                   .dbline 0 ; func end
 0336 8991              ld R24,y+
 0338 8FBF              OUT 63,R24
 033A 9991              ld R25,y+
 033C 8991              ld R24,y+
 033E 1895              reti
 0340                   .dbend
                        .area vector(rom, abs)
                        .org 100
 0064 0C94A001          jmp _INT_T3_ICP
                        .area text(rom, con, rel)
 0340                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0340                   .dbfunc e INT_T3_ICP _INT_T3_ICP fV
                        .even
 0340           _INT_T3_ICP::
 0340 8A93              st -y,R24
 0342 9A93              st -y,R25
 0344 8FB7              IN R24,63
 0346 8A93              st -y,R24
 0348                   .dbline -1
 0348                   .dbline 117
 0348           ; }
 0348           ; 
 0348           ; /*
 0348           ; *ICP_3ÖÐ¶Ïº¯Êý
 0348           ; *¸´Î»¶¨Ê±Æ÷¼ÆÊýÖµ
 0348           ; *Èç¹ûÊÇÐÂÐÅºÅ,Ôò´ò¿ªÒç³öÖÐ¶Ï£¬ÒÔÀ¹½ØÖ¡½áÊø¡£
 0348           ; *Õý³£ÐÅºÅ£¬¼ì²â·ÀÖ¹Òç³ö£¬±£´æÊÕµ½Êý¾ÝÖµ¡
 0348           ; */
 0348           ; 
 0348           ; //ÖÐ¶ÏÏòÁ¿ºÅ 12    T1ÊäÈë²¶×½ÊÂ¼þÖÐ¶Ï
 0348           ; 
 0348           ; #pragma interrupt_handler INT_T3_ICP: 26
 0348           ; void INT_T3_ICP(void)
 0348           ; {
 0348                   .dbline 118
 0348           ;       TIMSK &= ~(1 << TOIE1);                                         //¹Ø±ÕÒç³öÖÐ¶Ï  
 0348 87B7              in R24,0x37
 034A 8B7F              andi R24,251
 034C 87BF              out 0x37,R24
 034E                   .dbline 119
 034E           ;       num_pulse_3++;
 034E 8091D700          lds R24,_num_pulse_3
 0352 9091D800          lds R25,_num_pulse_3+1
 0356 0196              adiw R24,1
 0358 9093D800          sts _num_pulse_3+1,R25
 035C 8093D700          sts _num_pulse_3,R24
 0360                   .dbline 124
 0360           ;       
 0360           ;       //TIMSK |= (1 << TOIE1);                                                //Òç³öÖÐ¶ÏÓÐÐ§                                  
 0360           ;       //TIFR |= (1 << TOV1);                                          //Òç³öÖÐ¶Ï±êÖ¾Çå³ý              
 0360           ;       //flag = TCNT1;
 0360           ;       TIMSK |= (1 << TOIE1);                                          //´ò¿ªÒç³öÖÐ¶Ï          
 0360 87B7              in R24,0x37
 0362 8460              ori R24,4
 0364 87BF              out 0x37,R24
 0366                   .dbline -2
 0366           L32:
 0366                   .dbline 0 ; func end
 0366 8991              ld R24,y+
 0368 8FBF              OUT 63,R24
 036A 9991              ld R25,y+
 036C 8991              ld R24,y+
 036E 1895              reti
 0370                   .dbend
                        .area vector(rom, abs)
                        .org 56
 0038 0C94B801          jmp _INT_T1_OV
                        .area text(rom, con, rel)
 0370                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0370                   .dbfunc e INT_T1_OV _INT_T1_OV fV
                        .even
 0370           _INT_T1_OV::
 0370 0A92              st -y,R0
 0372 1A92              st -y,R1
 0374 2A92              st -y,R2
 0376 3A92              st -y,R3
 0378 4A92              st -y,R4
 037A 5A92              st -y,R5
 037C 6A92              st -y,R6
 037E 7A92              st -y,R7
 0380 8A92              st -y,R8
 0382 9A92              st -y,R9
 0384 0A93              st -y,R16
 0386 1A93              st -y,R17
 0388 2A93              st -y,R18
 038A 3A93              st -y,R19
 038C 8A93              st -y,R24
 038E 9A93              st -y,R25
 0390 AA93              st -y,R26
 0392 BA93              st -y,R27
 0394 EA93              st -y,R30
 0396 FA93              st -y,R31
 0398 0FB6              IN R0,63
 039A 0A92              st -y,R0
 039C 0E940000          xcall push_xgsetF000
 03A0                   .dbline -1
 03A0                   .dbline 129
 03A0           ; }
 03A0           ; 
 03A0           ; #pragma interrupt_handler INT_T1_OV: 15
 03A0           ; void INT_T1_OV(void)
 03A0           ; {
 03A0                   .dbline 130
 03A0           ;       TIMSK &= ~(1 << TICIE1);                        //²¶×½ÖÐ¶ÏICP1Ê§ÄÜ      
 03A0 87B7              in R24,0x37
 03A2 8F7D              andi R24,223
 03A4 87BF              out 0x37,R24
 03A6                   .dbline 131
 03A6           ;       ETIMSK &= ~(1 << TICIE3);                       //²¶×½ÖÐ¶ÏICP3Ê§ÄÜ      
 03A6 80917D00          lds R24,125
 03AA 8F7D              andi R24,223
 03AC 80937D00          sts 125,R24
 03B0                   .dbline 132
 03B0           ;       if(TCNT1 == 0)
 03B0 2CB4              in R2,0x2c
 03B2 3DB4              in R3,0x2d
 03B4 2220              tst R2
 03B6 09F0              breq X8
 03B8 5EC2              xjmp L34
 03BA           X8:
 03BA 3320              tst R3
 03BC 09F0              breq X9
 03BE 5BC2              xjmp L34
 03C0           X9:
 03C0           X2:
 03C0                   .dbline 133
 03C0           ;       {
 03C0                   .dbline 134
 03C0           ;               vino++;
 03C0 8091DB00          lds R24,_vino
 03C4 9091DC00          lds R25,_vino+1
 03C8 0196              adiw R24,1
 03CA 9093DC00          sts _vino+1,R25
 03CE 8093DB00          sts _vino,R24
 03D2                   .dbline 135
 03D2           ;               get_num_pulse_1 = num_pulse_1;                                  //È¥È¡³öÒ»ÃëÄÚICP_1²¶×½µÄÂö³åÊý
 03D2 2090D300          lds R2,_num_pulse_1
 03D6 3090D400          lds R3,_num_pulse_1+1
 03DA 3092D600          sts _get_num_pulse_1+1,R3
 03DE 2092D500          sts _get_num_pulse_1,R2
 03E2                   .dbline 136
 03E2           ;               get_num_pulse_3 = num_pulse_3;                                  //È¥È¡³öÒ»ÃëÄÚICP_3²¶×½µÄÂö³åÊý
 03E2 2090D700          lds R2,_num_pulse_3
 03E6 3090D800          lds R3,_num_pulse_3+1
 03EA 3092DA00          sts _get_num_pulse_3+1,R3
 03EE 2092D900          sts _get_num_pulse_3,R2
 03F2                   .dbline 138
 03F2           ;               ////////sent(get_num_pulse*3/20);
 03F2           ;               if(vino == 25)
 03F2 8931              cpi R24,25
 03F4 E0E0              ldi R30,0
 03F6 9E07              cpc R25,R30
 03F8 11F5              brne L36
 03FA           X3:
 03FA                   .dbline 139
 03FA           ;               {
 03FA                   .dbline 141
 03FA           ;                       //flag++;
 03FA           ;                       sent((get_num_pulse_1)*5/2);
 03FA 2091D500          lds R18,_get_num_pulse_1
 03FE 3091D600          lds R19,_get_num_pulse_1+1
 0402 05E0              ldi R16,5
 0404 10E0              ldi R17,0
 0406 0E940000          xcall empy16s
 040A 22E0              ldi R18,2
 040C 30E0              ldi R19,0
 040E 0E940000          xcall div16s
 0412 0E940000          xcall _sent
 0416                   .dbline 142
 0416           ;                       sent((get_num_pulse_3)*5/2);
 0416 2091D900          lds R18,_get_num_pulse_3
 041A 3091DA00          lds R19,_get_num_pulse_3+1
 041E 05E0              ldi R16,5
 0420 10E0              ldi R17,0
 0422 0E940000          xcall empy16s
 0426 22E0              ldi R18,2
 0428 30E0              ldi R19,0
 042A 0E940000          xcall div16s
 042E 0E940000          xcall _sent
 0432                   .dbline 145
 0432           ;                       //sent(get_num_pulse_1);
 0432           ;                       //sent(get_num_pulse_3);
 0432           ;                       vino = 0;
 0432 2224              clr R2
 0434 3324              clr R3
 0436 3092DC00          sts _vino+1,R3
 043A 2092DB00          sts _vino,R2
 043E                   .dbline 146
 043E           ;               }
 043E           L36:
 043E                   .dbline 147
 043E           ;               num_pulse_1 = 0;                                                                //Âö³å¼ÆÊýÇåÁã
 043E 2224              clr R2
 0440 3324              clr R3
 0442 3092D400          sts _num_pulse_1+1,R3
 0446 2092D300          sts _num_pulse_1,R2
 044A                   .dbline 148
 044A           ;               num_pulse_3 = 0;                                                                //Âö³å¼ÆÊýÇåÁã
 044A 3092D800          sts _num_pulse_3+1,R3
 044E 2092D700          sts _num_pulse_3,R2
 0452                   .dbline 155
 0452           ; 
 0452           ;               /**********
 0452           ;               *µÚÒ»¸öpidµÄ³ÌÐò
 0452           ;               *ÆÚÍûËÙ¶ÈÎª×Ô¶¨Òå
 0452           ;               *pid¼ÆËãËùÐèpwm
 0452           ;               ***********/
 0452           ;               p->Vpv = ((get_num_pulse_1)*5/2);               //µ±Ç°ËÙ¶È  r/min
 0452 2091D500          lds R18,_get_num_pulse_1
 0456 3091D600          lds R19,_get_num_pulse_1+1
 045A 05E0              ldi R16,5
 045C 10E0              ldi R17,0
 045E 0E940000          xcall empy16s
 0462 22E0              ldi R18,2
 0464 30E0              ldi R19,0
 0466 0E940000          xcall div16s
 046A 0E940000          xcall int2fp
 046E E091B10C          lds R30,_p
 0472 F091B20C          lds R31,_p+1
 0476 008B              std z+16,R16
 0478 118B              std z+17,R17
 047A 228B              std z+18,R18
 047C 338B              std z+19,R19
 047E                   .dbline 157
 047E           ;               ////////p->Vpv = (get_num_pulse*3/20);          //µ±Ç°ËÙ¶È  r/min
 047E           ;               p->Error = p->Vsp - p->Vpv;             //Æ«²î
 047E 2F01              movw R4,R30
 0480 0485              ldd R16,z+12
 0482 1585              ldd R17,z+13
 0484 2685              ldd R18,z+14
 0486 3785              ldd R19,z+15
 0488 CF01              movw R24,R30
 048A 4096              adiw R24,16
 048C 9A93              st -y,R25
 048E 8A93              st -y,R24
 0490 0E940000          xcall fpsub1
 0494 F201              movw R30,R4
 0496 04A3              std z+36,R16
 0498 15A3              std z+37,R17
 049A 26A3              std z+38,R18
 049C 37A3              std z+39,R19
 049E                   .dbline 158
 049E           ;               p->Vse += p->Error;                             //»ý·Ö 
 049E 2090B10C          lds R2,_p
 04A2 3090B20C          lds R3,_p+1
 04A6 A101              movw R20,R2
 04A8 445E              subi R20,228  ; offset = 28
 04AA 5F4F              sbci R21,255
 04AC FA01              movw R30,R20
 04AE 0081              ldd R16,z+0
 04B0 1181              ldd R17,z+1
 04B2 2281              ldd R18,z+2
 04B4 3381              ldd R19,z+3
 04B6 C101              movw R24,R2
 04B8 8496              adiw R24,36
 04BA 9A93              st -y,R25
 04BC 8A93              st -y,R24
 04BE 0E940000          xcall fpadd1
 04C2 FA01              movw R30,R20
 04C4 0083              std z+0,R16
 04C6 1183              std z+1,R17
 04C8 2283              std z+2,R18
 04CA 3383              std z+3,R19
 04CC                   .dbline 159
 04CC           ;               p->dError = p->Vle - p->Vpe;    //µ±Ç°Î¢·Ö
 04CC 4091B10C          lds R20,_p
 04D0 5091B20C          lds R21,_p+1
 04D4 FA01              movw R30,R20
 04D6 0489              ldd R16,z+20
 04D8 1589              ldd R17,z+21
 04DA 2689              ldd R18,z+22
 04DC 3789              ldd R19,z+23
 04DE CF01              movw R24,R30
 04E0 4896              adiw R24,24
 04E2 9A93              st -y,R25
 04E4 8A93              st -y,R24
 04E6 0E940000          xcall fpsub1
 04EA FA01              movw R30,R20
 04EC 00A3              std z+32,R16
 04EE 11A3              std z+33,R17
 04F0 22A3              std z+34,R18
 04F2 33A3              std z+35,R19
 04F4                   .dbline 160
 04F4           ;               p->Vpe = p->Vle;
 04F4 4091B10C          lds R20,_p
 04F8 5091B20C          lds R21,_p+1
 04FC FA01              movw R30,R20
 04FE 2488              ldd R2,z+20
 0500 3588              ldd R3,z+21
 0502 4688              ldd R4,z+22
 0504 5788              ldd R5,z+23
 0506 208E              std z+24,R2
 0508 318E              std z+25,R3
 050A 428E              std z+26,R4
 050C 538E              std z+27,R5
 050E                   .dbline 161
 050E           ;               p->Vle = p->Error;
 050E 4091B10C          lds R20,_p
 0512 5091B20C          lds R21,_p+1
 0516 FA01              movw R30,R20
 0518 24A0              ldd R2,z+36
 051A 35A0              ldd R3,z+37
 051C 46A0              ldd R4,z+38
 051E 57A0              ldd R5,z+39
 0520 248A              std z+20,R2
 0522 358A              std z+21,R3
 0524 468A              std z+22,R4
 0526 578A              std z+23,R5
 0528                   .dbline 162
 0528           ;               p->Pwm = p->Kp * p->Error + p->Ki * p->Vse + p->Kd * p->dError;
 0528 4091B10C          lds R20,_p
 052C 5091B20C          lds R21,_p+1
 0530 FA01              movw R30,R20
 0532 0081              ldd R16,z+0
 0534 1181              ldd R17,z+1
 0536 2281              ldd R18,z+2
 0538 3381              ldd R19,z+3
 053A CF01              movw R24,R30
 053C 8496              adiw R24,36
 053E 9A93              st -y,R25
 0540 8A93              st -y,R24
 0542 0E940000          xcall fpmule1
 0546 1801              movw R2,R16
 0548 2901              movw R4,R18
 054A FA01              movw R30,R20
 054C 0481              ldd R16,z+4
 054E 1581              ldd R17,z+5
 0550 2681              ldd R18,z+6
 0552 3781              ldd R19,z+7
 0554 CF01              movw R24,R30
 0556 4C96              adiw R24,28
 0558 9A93              st -y,R25
 055A 8A93              st -y,R24
 055C 0E940000          xcall fpmule1x
 0560 8101              movw R16,R2
 0562 9201              movw R18,R4
 0564 0E940000          xcall fpadd2
 0568 1801              movw R2,R16
 056A 2901              movw R4,R18
 056C FA01              movw R30,R20
 056E 0085              ldd R16,z+8
 0570 1185              ldd R17,z+9
 0572 2285              ldd R18,z+10
 0574 3385              ldd R19,z+11
 0576 CF01              movw R24,R30
 0578 8096              adiw R24,32
 057A 9A93              st -y,R25
 057C 8A93              st -y,R24
 057E 0E940000          xcall fpmule1x
 0582 8101              movw R16,R2
 0584 9201              movw R18,R4
 0586 0E940000          xcall fpadd2
 058A FA01              movw R30,R20
 058C 00A7              std z+40,R16
 058E 11A7              std z+41,R17
 0590 22A7              std z+42,R18
 0592 33A7              std z+43,R19
 0594                   .dbline 164
 0594           ;               
 0594           ;               if((OCR3A + p->Pwm) > 255)
 0594 00918600          lds R16,134
 0598 10918700          lds R17,134+1
 059C 0E940000          xcall uint2fp
 05A0 8091B10C          lds R24,_p
 05A4 9091B20C          lds R25,_p+1
 05A8 8896              adiw R24,40
 05AA 9A93              st -y,R25
 05AC 8A93              st -y,R24
 05AE 0E940000          xcall fpadd1x
 05B2 00E0              ldi R16,<L40
 05B4 10E0              ldi R17,>L40
 05B6 0E940000          xcall elpm32
 05BA 0E940000          xcall fpcmp2
 05BE 3CF4              brge L38
 05C0           X4:
 05C0                   .dbline 165
 05C0           ;               {
 05C0                   .dbline 166
 05C0           ;                       OCR3A = 255;
 05C0 8FEF              ldi R24,255
 05C2 90E0              ldi R25,0
 05C4 90938700          sts 134+1,R25
 05C8 80938600          sts 134,R24
 05CC                   .dbline 167
 05CC           ;               }
 05CC 42C0              xjmp L39
 05CE           L38:
 05CE                   .dbline 168
 05CE           ;               else if((OCR3A + p->Pwm) < 0)
 05CE 00918600          lds R16,134
 05D2 10918700          lds R17,134+1
 05D6 0E940000          xcall uint2fp
 05DA 8091B10C          lds R24,_p
 05DE 9091B20C          lds R25,_p+1
 05E2 8896              adiw R24,40
 05E4 9A93              st -y,R25
 05E6 8A93              st -y,R24
 05E8 0E940000          xcall fpadd1
 05EC 1801              movw R2,R16
 05EE 2901              movw R4,R18
 05F0 00E0              ldi R16,<L5
 05F2 10E0              ldi R17,>L5
 05F4 0E940000          xcall elpm32
 05F8 3A93              st -y,R19
 05FA 2A93              st -y,R18
 05FC 1A93              st -y,R17
 05FE 0A93              st -y,R16
 0600 8101              movw R16,R2
 0602 9201              movw R18,R4
 0604 0E940000          xcall fpcmp2
 0608 3CF4              brge L41
 060A           X5:
 060A                   .dbline 169
 060A           ;               {
 060A                   .dbline 170
 060A           ;                       OCR3A = 0;
 060A 2224              clr R2
 060C 3324              clr R3
 060E 30928700          sts 134+1,R3
 0612 20928600          sts 134,R2
 0616                   .dbline 171
 0616           ;               }
 0616 1DC0              xjmp L42
 0618           L41:
 0618                   .dbline 173
 0618           ;               else
 0618           ;               {
 0618                   .dbline 174
 0618           ;                       OCR3A=OCR3A+p->Pwm;             //µ÷ÕûPWMÕ¼¿Õ±È£¬×ª³ÉÎ»ÖÃÊ½PIDËã·¨
 0618 00918600          lds R16,134
 061C 10918700          lds R17,134+1
 0620 0E940000          xcall uint2fp
 0624 8091B10C          lds R24,_p
 0628 9091B20C          lds R25,_p+1
 062C 8896              adiw R24,40
 062E 9A93              st -y,R25
 0630 8A93              st -y,R24
 0632 0E940000          xcall fpadd1
 0636 0E940000          xcall fpint
 063A 10938700          sts 134+1,R17
 063E 00938600          sts 134,R16
 0642                   .dbline 175
 0642           ;                       OCR3B = OCR3A;
 0642 20908600          lds R2,134
 0646 30908700          lds R3,134+1
 064A 30928500          sts 132+1,R3
 064E 20928400          sts 132,R2
 0652                   .dbline 176
 0652           ;               }
 0652           L42:
 0652           L39:
 0652                   .dbline 183
 0652           ;               
 0652           ;               /**********
 0652           ;               *µÚ¶þ¸öpidµÄ³ÌÐò
 0652           ;               *ÆÚÍûËÙ¶ÈÎªµÚÒ»¸öpid·µ»ØµÄÕæÊµËÙ¶È
 0652           ;               *pidµ÷Õû¼õÉÙÁ½¸öµç»úËÙ¶È²î
 0652           ;               ***********/
 0652           ;               v->Vsp = ((get_num_pulse_1)*5/2);               //ÆÚÍûÖµÈ¡µÚÒ»¸öpwm·µ»ØµÄÕæÊµËÙ¶ÈÖµ
 0652 2091D500          lds R18,_get_num_pulse_1
 0656 3091D600          lds R19,_get_num_pulse_1+1
 065A 05E0              ldi R16,5
 065C 10E0              ldi R17,0
 065E 0E940000          xcall empy16s
 0662 22E0              ldi R18,2
 0664 30E0              ldi R19,0
 0666 0E940000          xcall div16s
 066A 0E940000          xcall int2fp
 066E E091830C          lds R30,_v
 0672 F091840C          lds R31,_v+1
 0676 0487              std z+12,R16
 0678 1587              std z+13,R17
 067A 2687              std z+14,R18
 067C 3787              std z+15,R19
 067E                   .dbline 184
 067E           ;               v->Vpv = ((get_num_pulse_3)*5/2);               //µ±Ç°ËÙ¶È  r/min
 067E 2091D900          lds R18,_get_num_pulse_3
 0682 3091DA00          lds R19,_get_num_pulse_3+1
 0686 05E0              ldi R16,5
 0688 10E0              ldi R17,0
 068A 0E940000          xcall empy16s
 068E 22E0              ldi R18,2
 0690 30E0              ldi R19,0
 0692 0E940000          xcall div16s
 0696 0E940000          xcall int2fp
 069A E091830C          lds R30,_v
 069E F091840C          lds R31,_v+1
 06A2 008B              std z+16,R16
 06A4 118B              std z+17,R17
 06A6 228B              std z+18,R18
 06A8 338B              std z+19,R19
 06AA                   .dbline 186
 06AA           ;               ////////p->Vpv = (get_num_pulse*3/20);          //µ±Ç°ËÙ¶È  r/min
 06AA           ;               v->Error = v->Vsp - v->Vpv;             //Æ«²î
 06AA AF01              movw R20,R30
 06AC 0485              ldd R16,z+12
 06AE 1585              ldd R17,z+13
 06B0 2685              ldd R18,z+14
 06B2 3785              ldd R19,z+15
 06B4 CF01              movw R24,R30
 06B6 4096              adiw R24,16
 06B8 9A93              st -y,R25
 06BA 8A93              st -y,R24
 06BC 0E940000          xcall fpsub1
 06C0 FA01              movw R30,R20
 06C2 04A3              std z+36,R16
 06C4 15A3              std z+37,R17
 06C6 26A3              std z+38,R18
 06C8 37A3              std z+39,R19
 06CA                   .dbline 187
 06CA           ;               v->Vse += v->Error;                             //»ý·Ö 
 06CA 6091830C          lds R22,_v
 06CE 7091840C          lds R23,_v+1
 06D2 AB01              movw R20,R22
 06D4 445E              subi R20,228  ; offset = 28
 06D6 5F4F              sbci R21,255
 06D8 FA01              movw R30,R20
 06DA 0081              ldd R16,z+0
 06DC 1181              ldd R17,z+1
 06DE 2281              ldd R18,z+2
 06E0 3381              ldd R19,z+3
 06E2 CB01              movw R24,R22
 06E4 8496              adiw R24,36
 06E6 9A93              st -y,R25
 06E8 8A93              st -y,R24
 06EA 0E940000          xcall fpadd1
 06EE FA01              movw R30,R20
 06F0 0083              std z+0,R16
 06F2 1183              std z+1,R17
 06F4 2283              std z+2,R18
 06F6 3383              std z+3,R19
 06F8                   .dbline 188
 06F8           ;               v->dError = v->Vle - v->Vpe;    //µ±Ç°Î¢·Ö
 06F8 4091830C          lds R20,_v
 06FC 5091840C          lds R21,_v+1
 0700 FA01              movw R30,R20
 0702 0489              ldd R16,z+20
 0704 1589              ldd R17,z+21
 0706 2689              ldd R18,z+22
 0708 3789              ldd R19,z+23
 070A CF01              movw R24,R30
 070C 4896              adiw R24,24
 070E 9A93              st -y,R25
 0710 8A93              st -y,R24
 0712 0E940000          xcall fpsub1
 0716 FA01              movw R30,R20
 0718 00A3              std z+32,R16
 071A 11A3              std z+33,R17
 071C 22A3              std z+34,R18
 071E 33A3              std z+35,R19
 0720                   .dbline 189
 0720           ;               v->Vpe = v->Vle;
 0720 4091830C          lds R20,_v
 0724 5091840C          lds R21,_v+1
 0728 FA01              movw R30,R20
 072A 2488              ldd R2,z+20
 072C 3588              ldd R3,z+21
 072E 4688              ldd R4,z+22
 0730 5788              ldd R5,z+23
 0732 208E              std z+24,R2
 0734 318E              std z+25,R3
 0736 428E              std z+26,R4
 0738 538E              std z+27,R5
 073A                   .dbline 190
 073A           ;               v->Vle = v->Error;
 073A 4091830C          lds R20,_v
 073E 5091840C          lds R21,_v+1
 0742 FA01              movw R30,R20
 0744 24A0              ldd R2,z+36
 0746 35A0              ldd R3,z+37
 0748 46A0              ldd R4,z+38
 074A 57A0              ldd R5,z+39
 074C 248A              std z+20,R2
 074E 358A              std z+21,R3
 0750 468A              std z+22,R4
 0752 578A              std z+23,R5
 0754                   .dbline 191
 0754           ;               v->Pwm = v->Kp * v->Error + v->Ki * v->Vse + v->Kd * v->dError;
 0754 4091830C          lds R20,_v
 0758 5091840C          lds R21,_v+1
 075C FA01              movw R30,R20
 075E 0081              ldd R16,z+0
 0760 1181              ldd R17,z+1
 0762 2281              ldd R18,z+2
 0764 3381              ldd R19,z+3
 0766 CF01              movw R24,R30
 0768 8496              adiw R24,36
 076A 9A93              st -y,R25
 076C 8A93              st -y,R24
 076E 0E940000          xcall fpmule1
 0772 1801              movw R2,R16
 0774 2901              movw R4,R18
 0776 FA01              movw R30,R20
 0778 0481              ldd R16,z+4
 077A 1581              ldd R17,z+5
 077C 2681              ldd R18,z+6
 077E 3781              ldd R19,z+7
 0780 CF01              movw R24,R30
 0782 4C96              adiw R24,28
 0784 9A93              st -y,R25
 0786 8A93              st -y,R24
 0788 0E940000          xcall fpmule1x
 078C 8101              movw R16,R2
 078E 9201              movw R18,R4
 0790 0E940000          xcall fpadd2
 0794 1801              movw R2,R16
 0796 2901              movw R4,R18
 0798 FA01              movw R30,R20
 079A 0085              ldd R16,z+8
 079C 1185              ldd R17,z+9
 079E 2285              ldd R18,z+10
 07A0 3385              ldd R19,z+11
 07A2 CF01              movw R24,R30
 07A4 8096              adiw R24,32
 07A6 9A93              st -y,R25
 07A8 8A93              st -y,R24
 07AA 0E940000          xcall fpmule1x
 07AE 8101              movw R16,R2
 07B0 9201              movw R18,R4
 07B2 0E940000          xcall fpadd2
 07B6 FA01              movw R30,R20
 07B8 00A7              std z+40,R16
 07BA 11A7              std z+41,R17
 07BC 22A7              std z+42,R18
 07BE 33A7              std z+43,R19
 07C0                   .dbline 193
 07C0           ;               
 07C0           ;               if((OCR3B + v->Pwm) > 255)
 07C0 00918400          lds R16,132
 07C4 10918500          lds R17,132+1
 07C8 0E940000          xcall uint2fp
 07CC 8091830C          lds R24,_v
 07D0 9091840C          lds R25,_v+1
 07D4 8896              adiw R24,40
 07D6 9A93              st -y,R25
 07D8 8A93              st -y,R24
 07DA 0E940000          xcall fpadd1x
 07DE 00E0              ldi R16,<L40
 07E0 10E0              ldi R17,>L40
 07E2 0E940000          xcall elpm32
 07E6 0E940000          xcall fpcmp2
 07EA 3CF4              brge L43
 07EC           X6:
 07EC                   .dbline 194
 07EC           ;               {
 07EC                   .dbline 195
 07EC           ;                       OCR3B = 255;
 07EC 8FEF              ldi R24,255
 07EE 90E0              ldi R25,0
 07F0 90938500          sts 132+1,R25
 07F4 80938400          sts 132,R24
 07F8                   .dbline 196
 07F8           ;               }
 07F8 3AC0              xjmp L44
 07FA           L43:
 07FA                   .dbline 197
 07FA           ;               else if((OCR3B + v->Pwm) < 0)
 07FA 00918400          lds R16,132
 07FE 10918500          lds R17,132+1
 0802 0E940000          xcall uint2fp
 0806 8091830C          lds R24,_v
 080A 9091840C          lds R25,_v+1
 080E 8896              adiw R24,40
 0810 9A93              st -y,R25
 0812 8A93              st -y,R24
 0814 0E940000          xcall fpadd1
 0818 1801              movw R2,R16
 081A 2901              movw R4,R18
 081C 00E0              ldi R16,<L5
 081E 10E0              ldi R17,>L5
 0820 0E940000          xcall elpm32
 0824 3A93              st -y,R19
 0826 2A93              st -y,R18
 0828 1A93              st -y,R17
 082A 0A93              st -y,R16
 082C 8101              movw R16,R2
 082E 9201              movw R18,R4
 0830 0E940000          xcall fpcmp2
 0834 3CF4              brge L45
 0836           X7:
 0836                   .dbline 198
 0836           ;               {
 0836                   .dbline 199
 0836           ;                       OCR3B = 0;
 0836 2224              clr R2
 0838 3324              clr R3
 083A 30928500          sts 132+1,R3
 083E 20928400          sts 132,R2
 0842                   .dbline 200
 0842           ;               }
 0842 15C0              xjmp L46
 0844           L45:
 0844                   .dbline 202
 0844           ;               else
 0844           ;               {
 0844                   .dbline 203
 0844           ;                       OCR3B=OCR3B+v->Pwm;             //µ÷ÕûPWMÕ¼¿Õ±È£¬×ª³ÉÎ»ÖÃÊ½PIDËã·¨
 0844 00918400          lds R16,132
 0848 10918500          lds R17,132+1
 084C 0E940000          xcall uint2fp
 0850 8091830C          lds R24,_v
 0854 9091840C          lds R25,_v+1
 0858 8896              adiw R24,40
 085A 9A93              st -y,R25
 085C 8A93              st -y,R24
 085E 0E940000          xcall fpadd1
 0862 0E940000          xcall fpint
 0866 10938500          sts 132+1,R17
 086A 00938400          sts 132,R16
 086E                   .dbline 204
 086E           ;               }
 086E           L46:
 086E           L44:
 086E                   .dbline 208
 086E           ;               
 086E           ;               
 086E           ;               
 086E           ;               TCNT1 = 64285;
 086E 8DE1              ldi R24,64285
 0870 9BEF              ldi R25,251
 0872 9DBD              out 0x2d,R25
 0874 8CBD              out 0x2c,R24
 0876                   .dbline 209
 0876           ;       }
 0876           L34:
 0876                   .dbline 212
 0876           ;       
 0876           ; 
 0876           ;       TIMSK |= (1 << TICIE1);                 //²¶×½ÖÐ¶ÏÓÐÐ§  
 0876 87B7              in R24,0x37
 0878 8062              ori R24,32
 087A 87BF              out 0x37,R24
 087C                   .dbline 213
 087C           ;       ETIMSK |= (1 << TICIE3);                        //²¶×½ÖÐ¶ÏÓÐÐ§  
 087C 80917D00          lds R24,125
 0880 8062              ori R24,32
 0882 80937D00          sts 125,R24
 0886                   .dbline -2
 0886           L33:
 0886                   .dbline 0 ; func end
 0886 0E940000          xcall pop_xgsetF000
 088A 0990              ld R0,y+
 088C 0FBE              OUT 63,R0
 088E F991              ld R31,y+
 0890 E991              ld R30,y+
 0892 B991              ld R27,y+
 0894 A991              ld R26,y+
 0896 9991              ld R25,y+
 0898 8991              ld R24,y+
 089A 3991              ld R19,y+
 089C 2991              ld R18,y+
 089E 1991              ld R17,y+
 08A0 0991              ld R16,y+
 08A2 9990              ld R9,y+
 08A4 8990              ld R8,y+
 08A6 7990              ld R7,y+
 08A8 6990              ld R6,y+
 08AA 5990              ld R5,y+
 08AC 4990              ld R4,y+
 08AE 3990              ld R3,y+
 08B0 2990              ld R2,y+
 08B2 1990              ld R1,y+
 08B4 0990              ld R0,y+
 08B6 1895              reti
 08B8                   .dbend
                        .area vector(rom, abs)
                        .org 40
 0028 0C945C04          jmp _stolen
                        .area text(rom, con, rel)
 08B8                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 08B8                   .dbfunc e stolen _stolen fV
                        .even
 08B8           _stolen::
 08B8 0A93              st -y,R16
 08BA 1A93              st -y,R17
 08BC 8A93              st -y,R24
 08BE 9A93              st -y,R25
 08C0 0FB7              IN R16,63
 08C2 0A93              st -y,R16
 08C4                   .dbline -1
 08C4                   .dbline 218
 08C4           ; 
 08C4           ; }
 08C4           ; #pragma interrupt_handler stolen:11
 08C4           ; void stolen()
 08C4           ; {
 08C4                   .dbline 219
 08C4           ;   sec_time=(sec_time+1)%40;
 08C4 18E2              ldi R17,40
 08C6 0091D000          lds R16,_sec_time
 08CA 0F5F              subi R16,255    ; addi 1
 08CC 0E940000          xcall mod8u
 08D0 0093D000          sts _sec_time,R16
 08D4                   .dbline 220
 08D4           ;   if(sec_time==0)
 08D4 0023              tst R16
 08D6 49F4              brne L48
 08D8           X10:
 08D8                   .dbline 221
 08D8           ;     now_time++;
 08D8 8091D100          lds R24,_now_time
 08DC 9091D200          lds R25,_now_time+1
 08E0 0196              adiw R24,1
 08E2 9093D200          sts _now_time+1,R25
 08E6 8093D100          sts _now_time,R24
 08EA           L48:
 08EA                   .dbline 222
 08EA           ;   TCNT2=55;
 08EA 87E3              ldi R24,55
 08EC 84BD              out 0x24,R24
 08EE                   .dbline -2
 08EE           L47:
 08EE                   .dbline 0 ; func end
 08EE 0991              ld R16,y+
 08F0 0FBF              OUT 63,R16
 08F2 9991              ld R25,y+
 08F4 8991              ld R24,y+
 08F6 1991              ld R17,y+
 08F8 0991              ld R16,y+
 08FA 1895              reti
 08FC                   .dbend
                        .area vector(rom, abs)
                        .org 120
 0078 0C947E04          jmp _uart1_receive
                        .area text(rom, con, rel)
 08FC                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
                        .area data(ram, con, rel)
 00DD                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 00DD           L51:
 00DD                   .blkb 1
                        .area idata
 00DD 00                .byte 0
                        .area data(ram, con, rel)
 00DE                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
                        .area text(rom, con, rel)
 08FC                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 08FC                   .dbfunc e uart1_receive _uart1_receive fV
 08FC                   .dbsym s st_bit L51 c
 08FC           ;              n -> R16
                        .even
 08FC           _uart1_receive::
 08FC 2A92              st -y,R2
 08FE 0A93              st -y,R16
 0900 8A93              st -y,R24
 0902 9A93              st -y,R25
 0904 EA93              st -y,R30
 0906 FA93              st -y,R31
 0908 2FB6              IN R2,63
 090A 2A92              st -y,R2
 090C                   .dbline -1
 090C                   .dbline 231
 090C           ; }
 090C           ; /*
 090C           ; *UART1½ÓÊÕÖÐ¶Ïº¯Êý
 090C           ; *½ÓÊÕÊÖ»ú¶Ë·¢ËÍÀ´µÄÐÅºÅ
 090C           ; */
 090C           ; 
 090C           ; #pragma interrupt_handler uart1_receive:31
 090C           ; void uart1_receive()
 090C           ; {
 090C                   .dbline 234
 090C           ;    static unsigned char st_bit=0;
 090C           ;    unsigned char n;
 090C           ;    n=UDR1;
 090C 00919C00          lds R16,156
 0910                   .dbline 235
 0910           ;   if((0!=st_bit)&&(uart1_receive_flag))
 0910 2090DD00          lds R2,L51
 0914 2220              tst R2
 0916 A1F0              breq L52
 0918           X11:
 0918 2090CE00          lds R2,_uart1_receive_flag
 091C 2220              tst R2
 091E 81F0              breq L52
 0920           X12:
 0920                   .dbline 236
 0920           ;      {
 0920                   .dbline 237
 0920           ;          app_data[st_bit]=n-'0';
 0920 80E0              ldi R24,<_app_data
 0922 90E0              ldi R25,>_app_data
 0924 E091DD00          lds R30,L51
 0928 FF27              clr R31
 092A E80F              add R30,R24
 092C F91F              adc R31,R25
 092E 802F              mov R24,R16
 0930 8053              subi R24,48
 0932 8083              std z+0,R24
 0934                   .dbline 238
 0934           ;          st_bit++;
 0934 8091DD00          lds R24,L51
 0938 8F5F              subi R24,255    ; addi 1
 093A 8093DD00          sts L51,R24
 093E                   .dbline 239
 093E           ;        }
 093E 0EC0              xjmp L53
 0940           L52:
 0940                   .dbline 240
 0940           ;    else  if((uart1_receive_flag)&&('s'==n)&&(0==st_bit))
 0940 2090CE00          lds R2,_uart1_receive_flag
 0944 2220              tst R2
 0946 51F0              breq L54
 0948           X13:
 0948 0337              cpi R16,115
 094A 41F4              brne L54
 094C           X14:
 094C 2090DD00          lds R2,L51
 0950 2220              tst R2
 0952 21F4              brne L54
 0954           X15:
 0954                   .dbline 241
 0954           ;      {
 0954                   .dbline 242
 0954           ;          st_bit++;
 0954 822D              mov R24,R2
 0956 8F5F              subi R24,255    ; addi 1
 0958 8093DD00          sts L51,R24
 095C                   .dbline 243
 095C           ;        }
 095C           L54:
 095C           L53:
 095C                   .dbline 245
 095C           ;    
 095C           ;    if(4==st_bit)
 095C 8091DD00          lds R24,L51
 0960 8430              cpi R24,4
 0962 29F4              brne L56
 0964           X16:
 0964                   .dbline 246
 0964           ;      {
 0964                   .dbline 247
 0964           ;          st_bit=0;
 0964 2224              clr R2
 0966 2092DD00          sts L51,R2
 096A                   .dbline 248
 096A           ;          uart1_receive_flag=0;
 096A 2092CE00          sts _uart1_receive_flag,R2
 096E                   .dbline 249
 096E           ;        }
 096E           L56:
 096E                   .dbline -2
 096E           L50:
 096E                   .dbline 0 ; func end
 096E 2990              ld R2,y+
 0970 2FBE              OUT 63,R2
 0972 F991              ld R31,y+
 0974 E991              ld R30,y+
 0976 9991              ld R25,y+
 0978 8991              ld R24,y+
 097A 0991              ld R16,y+
 097C 2990              ld R2,y+
 097E 1895              reti
 0980                   .dbsym r n 16 c
 0980                   .dbend
 0980                   .dbfunc e main _main fV
 0980           ;          rxlen -> <dead>
 0980           ;              i -> <dead>
                        .even
 0980           _main::
 0980                   .dbline -1
 0980                   .dbline 255
 0980           ;  
 0980           ;       
 0980           ; }
 0980           ; 
 0980           ; void main(void)
 0980           ; {
 0980                   .dbline 258
 0980           ;    unsigned char i;
 0980           ;    unsigned int rxlen;
 0980           ;       PIDInit_1();
 0980 3FDB              xcall _PIDInit_1
 0982                   .dbline 259
 0982           ;       PIDInit_3();
 0982 C9DB              xcall _PIDInit_3
 0984                   .dbline 260
 0984           ;       io_init(); 
 0984 0E940000          xcall _io_init
 0988                   .dbline 261
 0988           ;       t3_init();
 0988 0E940000          xcall _t3_init
 098C                   .dbline 262
 098C           ;       ICP_1_init();
 098C 0E940000          xcall _ICP_1_init
 0990                   .dbline 263
 0990           ;       ICP_2_init();
 0990 0E940000          xcall _ICP_2_init
 0994                   .dbline 264
 0994           ;       ICP_3_init();
 0994 0E940000          xcall _ICP_3_init
 0998                   .dbline 265
 0998           ;       uart_init(9600);
 0998 00E8              ldi R16,9600
 099A 15E2              ldi R17,37
 099C 0E940000          xcall _uart_init
 09A0                   .dbline 266
 09A0           ;     uart1_init(9600);
 09A0 00E8              ldi R16,9600
 09A2 15E2              ldi R17,37
 09A4 0E940000          xcall _uart1_init
 09A8 77C0              xjmp L60
 09AA           L59:
 09AA                   .dbline 268
 09AA           ;       while(1)
 09AA           ;       {    
 09AA                   .dbline 270
 09AA           ;            
 09AA           ;                uart1_receive_flag=1;
 09AA 81E0              ldi R24,1
 09AC 8093CE00          sts _uart1_receive_flag,R24
 09B0                   .dbline 271
 09B0           ;                delay_ms(500);
 09B0 04EF              ldi R16,500
 09B2 11E0              ldi R17,1
 09B4 9CDC              xcall _delay_ms
 09B6                   .dbline 272
 09B6           ;                if((app_data[1])&&(0==lock_flag))//¿ªËøÓëÉÏËø
 09B6 20900200          lds R2,_app_data+1
 09BA 2220              tst R2
 09BC 51F0              breq L62
 09BE           X17:
 09BE 2090CF00          lds R2,_lock_flag
 09C2 2220              tst R2
 09C4 31F4              brne L62
 09C6           X18:
 09C6                   .dbline 273
 09C6           ;                  {
 09C6                   .dbline 274
 09C6           ;                    lock_close();
 09C6 0E940000          xcall _lock_close
 09CA                   .dbline 275
 09CA           ;                        lock_flag=1;
 09CA 81E0              ldi R24,1
 09CC 8093CF00          sts _lock_flag,R24
 09D0                   .dbline 276
 09D0           ;                  }
 09D0 0DC0              xjmp L63
 09D2           L62:
 09D2                   .dbline 277
 09D2           ;                else if((0==app_data[1])&&(1==lock_flag))
 09D2 20900200          lds R2,_app_data+1
 09D6 2220              tst R2
 09D8 49F4              brne L65
 09DA           X19:
 09DA 8091CF00          lds R24,_lock_flag
 09DE 8130              cpi R24,1
 09E0 29F4              brne L65
 09E2           X20:
 09E2                   .dbline 278
 09E2           ;                  {
 09E2                   .dbline 279
 09E2           ;                    lock_open();
 09E2 0E940000          xcall _lock_open
 09E6                   .dbline 280
 09E6           ;                        lock_flag=0;
 09E6 2224              clr R2
 09E8 2092CF00          sts _lock_flag,R2
 09EC                   .dbline 281
 09EC           ;                  }
 09EC           L65:
 09EC           L63:
 09EC                   .dbline 283
 09EC           ;                
 09EC           ;                if(0==app_data[2])//Æô¶¯Ç°½ø
 09EC 20900300          lds R2,_app_data+2
 09F0 2220              tst R2
 09F2 61F4              brne L68
 09F4           X21:
 09F4                   .dbline 284
 09F4           ;                  stop(); 
 09F4                   .dbline 284
 09F4 00E0              ldi R16,<L5
 09F6 10E0              ldi R17,>L5
 09F8 0E940000          xcall elpm32
 09FC E091B10C          lds R30,_p
 0A00 F091B20C          lds R31,_p+1
 0A04 0487              std z+12,R16
 0A06 1587              std z+13,R17
 0A08 2687              std z+14,R18
 0A0A 3787              std z+15,R19
 0A0C                   .dbline 284
 0A0C           L68:
 0A0C                   .dbline 284
 0A0C                   .dbline 285
 0A0C           ;                if(1==app_data[2])
 0A0C 80910300          lds R24,_app_data+2
 0A10 8130              cpi R24,1
 0A12 61F4              brne L71
 0A14           X22:
 0A14                   .dbline 286
 0A14           ;                  move();
 0A14 00E0              ldi R16,<L74
 0A16 10E0              ldi R17,>L74
 0A18 0E940000          xcall elpm32
 0A1C E091B10C          lds R30,_p
 0A20 F091B20C          lds R31,_p+1
 0A24 0487              std z+12,R16
 0A26 1587              std z+13,R17
 0A28 2687              std z+14,R18
 0A2A 3787              std z+15,R19
 0A2C           L71:
 0A2C                   .dbline 288
 0A2C           ;                
 0A2C           ;                if(0==app_data[3])//¶ªÊ§ÅÐ¶Ï
 0A2C 20900400          lds R2,_app_data+3
 0A30 2220              tst R2
 0A32 51F4              brne L75
 0A34           X23:
 0A34                   .dbline 289
 0A34           ;                {
 0A34                   .dbline 290
 0A34           ;                  bell_close();
 0A34 D998              cbi 0x1b,1
 0A36                   .dbline 291
 0A36           ;                  now_time=0;
 0A36 2224              clr R2
 0A38 3324              clr R3
 0A3A 3092D200          sts _now_time+1,R3
 0A3E 2092D100          sts _now_time,R2
 0A42                   .dbline 292
 0A42           ;                  TIMSK&=~(1<<TOIE2);//¹Ø¶¨Ê±¼ÆÊýÆ÷2Òç³öÖÐ¶Ï 
 0A42 87B7              in R24,0x37
 0A44 8F7B              andi R24,191
 0A46 87BF              out 0x37,R24
 0A48                   .dbline 293
 0A48           ;                }
 0A48           L75:
 0A48                   .dbline 294
 0A48           ;                if(1==app_data[3])
 0A48 80910400          lds R24,_app_data+3
 0A4C 8130              cpi R24,1
 0A4E A1F4              brne L78
 0A50           X24:
 0A50                   .dbline 295
 0A50           ;                {
 0A50                   .dbline 296
 0A50           ;                  uart1_receive_flag=1;
 0A50 81E0              ldi R24,1
 0A52 8093CE00          sts _uart1_receive_flag,R24
 0A56                   .dbline 297
 0A56           ;                  delay_ms(500);
 0A56 04EF              ldi R16,500
 0A58 11E0              ldi R17,1
 0A5A 49DC              xcall _delay_ms
 0A5C                   .dbline 298
 0A5C           ;                  uart1_receive_flag=1;
 0A5C 81E0              ldi R24,1
 0A5E 8093CE00          sts _uart1_receive_flag,R24
 0A62                   .dbline 299
 0A62           ;                  delay_ms(500);
 0A62 04EF              ldi R16,500
 0A64 11E0              ldi R17,1
 0A66 43DC              xcall _delay_ms
 0A68                   .dbline 300
 0A68           ;                  if(1==app_data[3])
 0A68 80910400          lds R24,_app_data+3
 0A6C 8130              cpi R24,1
 0A6E 21F4              brne L81
 0A70           X25:
 0A70                   .dbline 301
 0A70           ;                  {
 0A70                   .dbline 302
 0A70           ;                  TIMSK|=(1<<TOIE2);//¿ª¶¨Ê±¼ÆÊýÆ÷2Òç³öÖÐ¶Ï 
 0A70 87B7              in R24,0x37
 0A72 8064              ori R24,64
 0A74 87BF              out 0x37,R24
 0A76                   .dbline 303
 0A76           ;                  bell_open();
 0A76 D99A              sbi 0x1b,1
 0A78                   .dbline 304
 0A78           ;                  }
 0A78           L81:
 0A78                   .dbline 305
 0A78           ;                }
 0A78           L78:
 0A78                   .dbline 306
 0A78           ;                if(10==now_time)//10Ãë±¨¾¯£¬¿ÉÉèÖÃ
 0A78 8091D100          lds R24,_now_time
 0A7C 9091D200          lds R25,_now_time+1
 0A80 8A30              cpi R24,10
 0A82 E0E0              ldi R30,0
 0A84 9E07              cpc R25,R30
 0A86 41F4              brne L84
 0A88           X26:
 0A88                   .dbline 307
 0A88           ;                {
 0A88                   .dbline 308
 0A88           ;                  alarm_mes();
 0A88 0E940000          xcall _alarm_mes
 0A8C                   .dbline 309
 0A8C           ;                  now_time=0;
 0A8C 2224              clr R2
 0A8E 3324              clr R3
 0A90 3092D200          sts _now_time+1,R3
 0A94 2092D100          sts _now_time,R2
 0A98                   .dbline 310
 0A98           ;                }
 0A98           L84:
 0A98                   .dbline 312
 0A98           ;               
 0A98           ;       }
 0A98           L60:
 0A98                   .dbline 267
 0A98 88CF              xjmp L59
 0A9A           X27:
 0A9A                   .dbline -2
 0A9A           L58:
 0A9A                   .dbline 0 ; func end
 0A9A 0895              ret
 0A9C                   .dbsym l rxlen 1 i
 0A9C                   .dbsym l i 1 c
 0A9C                   .dbend
                        .area bss(ram, con, rel)
 0000                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\encoder.c
 0000           _latitude::
 0000                   .blkb 50
 0032                   .dbsym e latitude _latitude A[50:50]c
 0032           _longitude::
 0032                   .blkb 50
 0064                   .dbsym e longitude _longitude A[50:50]c
 0064           _gpsx::
 0064                   .blkb 103
 00CB                   .dbstruct 0 5 .7
 00CB                   .dbfield 0 num c
 00CB                   .dbfield 1 eledeg c
 00CB                   .dbfield 2 azideg i
 00CB                   .dbfield 4 sn c
 00CB                   .dbend
 00CB                   .dbstruct 0 7 .8
 00CB                   .dbfield 0 year i
 00CB                   .dbfield 2 month c
 00CB                   .dbfield 3 date c
 00CB                   .dbfield 4 hour c
 00CB                   .dbfield 5 min c
 00CB                   .dbfield 6 sec c
 00CB                   .dbend
 00CB                   .dbstruct 0 103 .9
 00CB                   .dbfield 0 svnum c
 00CB                   .dbfield 1 slmsg A[60:12]S[.7]
 00CB                   .dbfield 61 utc S[.8]
 00CB                   .dbfield 68 latitude l
 00CB                   .dbfield 72 nshemi c
 00CB                   .dbfield 73 longitude l
 00CB                   .dbfield 77 ewhemi c
 00CB                   .dbfield 78 gpssta c
 00CB                   .dbfield 79 posslnum c
 00CB                   .dbfield 80 possl A[12:12]c
 00CB                   .dbfield 92 fixmode c
 00CB                   .dbfield 93 pdop i
 00CB                   .dbfield 95 hdop i
 00CB                   .dbfield 97 vdop i
 00CB                   .dbfield 99 altitude I
 00CB                   .dbfield 101 speed i
 00CB                   .dbend
 00CB                   .dbsym e gpsx _gpsx S[.9]
 00CB           _data::
 00CB                   .blkb 3000
 0C83                   .dbsym e data _data A[3000:3000]c
 0C83           _v::
 0C83                   .blkb 2
 0C85                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
 0C85                   .dbstruct 0 44 PID
 0C85                   .dbfield 0 Kp D
 0C85                   .dbfield 4 Ki D
 0C85                   .dbfield 8 Kd D
 0C85                   .dbfield 12 Vsp D
 0C85                   .dbfield 16 Vpv D
 0C85                   .dbfield 20 Vle D
 0C85                   .dbfield 24 Vpe D
 0C85                   .dbfield 28 Vse D
 0C85                   .dbfield 32 dError D
 0C85                   .dbfield 36 Error D
 0C85                   .dbfield 40 Pwm D
 0C85                   .dbend
 0C85                   .dbsym e v _v pS[PID]
 0C85           _vPID::
 0C85                   .blkb 44
 0CB1                   .dbsym e vPID _vPID S[PID]
 0CB1           _p::
 0CB1                   .blkb 2
 0CB3                   .dbsym e p _p pS[PID]
 0CB3           _sPID::
 0CB3                   .blkb 44
 0CDF                   .dbsym e sPID _sPID S[PID]
                        .area lit(rom, con, rel)
 0000           L74:
 0000 0000B442          .word 0x0,0x42b4
 0004           L40:
 0004 00007F43          .word 0x0,0x437f
 0008           L19:
 0008 00401C46          .word 0x4000,0x461c
                        .area data(ram, con, rel)
 00DE                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
 00DE           L17:
 00DE                   .blkb 10
                        .area idata
 00DE 252E3366202531632D00      .byte 37,46,51,'f,32,37,49,'c,45,0
                        .area data(ram, con, rel)
 00E8                   .dbfile C:\Users\acer\Desktop\ÉñÁú\encoder_uart_v4\pid.h
                        .area lit(rom, con, rel)
 000C           L5:
 000C 00000000          .word 0x0,0x0
 0010           L4:
 0010 96430B3C          .word 0x4396,0x3c0b
 0014           L3:
 0014 CDCCCC3D          .word 0xcccd,0x3dcc
 0018           L2:
 0018 CDCCCC3E          .word 0xcccd,0x3ecc
 001C           ; }
